{% extends "base.html" %}

{% block "title" %}Topics{% endblock%}

{% block "content" %}

<h1>Topic List</h1>

{% for topic in topics %}
<div class="card mt-3">
    <div class="card-body d-flex justify-content-between align-items-center">
        <h5 class="card-title"><a href="{% url 'topic' topic.id %} "><p>{{ topic }}</a></h5>
        <div>
            <a class="btn btn-secondary btn-sm mr-1" href="{% url 'topic_update' topic.id  %}">Up</a>
            <a class="btn btn-danger btn-sm" href="{% url 'topic_delete' topic.id   %}">X</a>
        </div>
    </div>
</div>
{% endfor %}
<br>


<div class="container mt-3">
    {% if is_paginated %}
    <ul class="pagination pagination-si justify-content-center">
        {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
        <li class="page-item active">
            <a class="page-link" href="?page={{ num }}">{{ num }}</a>
        </li>
        {% else %}
        <li class="page-item">
            <a class="page-link" href="?page={{ num }}">{{ num }}</a>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
    {% endif %}
</div>

<p>
  <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="true" aria-controls="collapseExample">
    Topic list
  </button>
</p>
<div class="collapse" id="collapseExample">
  <div class="card card-body">
    <div class="container">
    {% for topic in topics %}
    <div>
        <h3 class="card-title"><a href="{% url 'topic' topic.id %} "><p>{{ topic }}</a></h3>
        <ul>
            {% for subtopic in topic.subtopics.all %}
            <li>
                <a href="{% url 'subtopic' topic.pk subtopic.id %}">{{ subtopic.sub_topic_name }}</a>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}
</div>

      </div>
</div>
<a class="btn btn-secondary btn-sm mt-1 mb-1" href="{% url 'topics_new' %}">New topic</a>
{% endblock%}